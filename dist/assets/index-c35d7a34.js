import{b as y,r as x,e as V,w as o,u as _,o as k,f as s,g as l,h as i,a as N,l as S,s as U,i as t,v as B}from"./index-fd628991.js";import{L as C}from"./index-e9814464.js";const T={class:"form-btn"},L={class:"handle"},q=l("span",{class:"split-line"},null,-1),E={class:"third"},P={__name:"index",setup($){const b=y(),c=N(),d="onBlur",r=x({username:"15911111111",password:"123456789"}),p={username:[{required:!0,message:"请填写用户名",trigger:d},{validator:(n,e)=>n?B(n)?!0:"手机号格式不正确！":"请填写手机号码！",trigger:d}],password:[{required:!0,message:"密码不能为空",trigger:d}]},f=async n=>{try{const{data:e}=await S({...n}),{token:u}=e;b.SET_TOKEN(u),c.push("/user")}catch{U("登录失败，请稍后再试...")}finally{}};return(n,e)=>{const u=t("van-field"),h=t("van-cell-group"),m=t("van-button"),w=t("van-form"),g=t("van-divider"),v=t("svg-icon");return k(),V(_(C),null,{body:o(()=>[s(w,{"label-width":"0",onSubmit:f},{default:o(()=>[s(h,{inset:""},{default:o(()=>[s(u,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=a=>r.username=a),rules:p.username,name:"username",label:"",placeholder:"用户名",maxlength:"11",clearable:""},null,8,["modelValue","rules"]),s(u,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=a=>r.password=a),type:"password",name:"password",label:"",placeholder:"密码",clearable:"",rules:p.password},null,8,["modelValue","rules"])]),_:1}),l("div",T,[s(m,{round:"",block:"",type:"primary","native-type":"submit",class:"btn-item h50"},{default:o(()=>[i(" 提交 ")]),_:1})])]),_:1})]),foot:o(()=>[l("div",null,[l("div",L,[s(m,{plain:"",class:"txt-btn no-border yellow-btn",onClick:e[2]||(e[2]=a=>_(c).push("/forgot"))},{default:o(()=>[i("忘记密码")]),_:1}),q,s(m,{plain:"",class:"txt-btn no-border yellow-btn",onClick:e[3]||(e[3]=a=>_(c).push("/register"))},{default:o(()=>[i("注册账号")]),_:1})]),l("div",E,[s(g,{class:"line"},{default:o(()=>[i("其他登录方式")]),_:1}),s(v,{"icon-class":"wechat","class-name":"third-icon wechat"}),s(v,{"icon-class":"weibo","class-name":"third-icon weibo"})])])]),_:1})}}};export{P as default};
