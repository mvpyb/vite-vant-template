var e=(e,a,l)=>new Promise(((s,o)=>{var n=e=>{try{r(l.next(e))}catch(a){o(a)}},t=e=>{try{r(l.throw(e))}catch(a){o(a)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,t);r((l=l.apply(e,a)).next())}));import{L as a,t as l}from"./index.d5dc0894.js";import{v as s}from"./index.f511acbe.js";import{Y as o}from"./index.22f897c5.js";import{e as n,v as t,B as r,f as d,k as u,r as c,o as i,g as p,w as m,m as f,a as h,l as b,I as v}from"./vendor.def0bd7b.js";const g=b("p",{class:"notice"},"若您忘记了密码，可在此处重新设置您的新密码",-1),w=v("获取验证码"),y={class:"form-btn"},x=v(" 修改密码 "),_={class:"handle"},V=v("前往登录"),j={setup(v){n();const j=t(),k="onBlur",B=r({phone:"",password:"",code:""}),C={phone:[{validator:(e,a)=>e?!!s(e)||"手机号格式不正确！":"请填写手机号码！",trigger:k}],password:[{required:!0,message:"密码不能为空",trigger:k}],code:[{pattern:/\d{6}/,message:"验证码格式不正确",trigger:k}]},P=d((()=>{const{phone:e,password:a,code:l}=B;return!!(e&&a&&l)}));function U(){return e(this,null,(function*(){try{l.success("短信发送成功")}catch(e){l.fail("获取短信失败，请稍后再试...")}}))}u(!1);const q=a=>e(this,null,(function*(){try{l.success("注册成功")}catch(e){l.fail("注册失败，请稍后再试...")}}));return(e,l)=>{const s=c("van-field"),n=c("van-col"),t=c("van-button"),r=c("van-row"),d=c("van-cell-group"),u=c("van-form");return i(),p(f(a),null,{body:m((()=>[g,h(u,{"label-width":"0",onSubmit:q},{default:m((()=>[h(d,{inset:""},{default:m((()=>[h(s,{modelValue:f(B).phone,"onUpdate:modelValue":l[0]||(l[0]=e=>f(B).phone=e),rules:C.phone,name:"phone",label:"",placeholder:"手机号",maxlength:"11",clearable:""},null,8,["modelValue","rules"]),h(f(o),{password:f(B).password,rules:C.password,placeholder:"请输入新密码",label:"",clearable:!0},null,8,["password","rules"]),h(r,{gutter:"20"},{default:m((()=>[h(n,{span:"16"},{default:m((()=>[h(s,{modelValue:f(B).code,"onUpdate:modelValue":l[1]||(l[1]=e=>f(B).code=e),rules:C.code,name:"code",label:"",placeholder:"验证码",maxlength:"6",clearable:""},null,8,["modelValue","rules"])])),_:1}),h(n,{span:"8"},{default:m((()=>[h(t,{disabled:!f(B).phone,plain:"",hairline:"",round:"",size:"small",onClick:U,class:"code-btn"},{default:m((()=>[w])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1}),b("div",y,[h(t,{round:"",block:"",type:"primary","native-type":"submit",class:"btn-item h50",disabled:!f(P)},{default:m((()=>[x])),_:1},8,["disabled"])])])),_:1})])),foot:m((()=>[b("div",null,[b("div",_,[h(t,{plain:"",class:"txt-btn no-border yellow-btn",onClick:l[2]||(l[2]=e=>f(j).push("/login"))},{default:m((()=>[V])),_:1})])])])),_:1})}}};export{j as default};
