import{r as x,k as C,e as S,w as n,u as d,o as B,f as e,h as _,g as c,a as P,n as f,s as h,i as s,v as L}from"./index-fd628991.js";import{Y as N}from"./index-4aff5138.js";import{L as T}from"./index-e9814464.js";const U=c("p",{class:"notice"},"若您忘记了密码，可在此处重新设置您的新密码",-1),Y={class:"form-btn"},q={class:"handle"},A={__name:"forgot",setup(z){const b=P(),u="onBlur",t=x({phone:"",password:"",code:""}),p={phone:[{validator:(a,o)=>a?L(a)?!0:"手机号格式不正确！":"请填写手机号码！",trigger:u}],password:[{required:!0,message:"密码不能为空",trigger:u}],code:[{pattern:/\d{6}/,message:"验证码格式不正确",trigger:u}]},v=C(()=>{const{phone:a,password:o,code:l}=t;return!!(a&&o&&l)});async function g(){try{f("短信发送成功")}catch{h("获取短信失败，请稍后再试...")}}const w=async a=>{try{f("注册成功")}catch{h("注册失败，请稍后再试...")}};return(a,o)=>{const l=s("van-field"),m=s("van-col"),i=s("van-button"),y=s("van-row"),V=s("van-cell-group"),k=s("van-form");return B(),S(d(T),null,{body:n(()=>[U,e(k,{"label-width":"0",onSubmit:w},{default:n(()=>[e(V,{inset:""},{default:n(()=>[e(l,{modelValue:t.phone,"onUpdate:modelValue":o[0]||(o[0]=r=>t.phone=r),rules:p.phone,name:"phone",label:"",placeholder:"手机号",maxlength:"11",clearable:""},null,8,["modelValue","rules"]),e(d(N),{password:t.password,rules:p.password,placeholder:"请输入新密码",label:"",clearable:!0},null,8,["password","rules"]),e(y,{gutter:"20"},{default:n(()=>[e(m,{span:"16"},{default:n(()=>[e(l,{modelValue:t.code,"onUpdate:modelValue":o[1]||(o[1]=r=>t.code=r),rules:p.code,name:"code",label:"",placeholder:"验证码",maxlength:"6",clearable:""},null,8,["modelValue","rules"])]),_:1}),e(m,{span:"8"},{default:n(()=>[e(i,{disabled:!t.phone,plain:"",hairline:"",round:"",size:"small",onClick:g,class:"code-btn"},{default:n(()=>[_("获取验证码")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),c("div",Y,[e(i,{round:"",block:"",type:"primary","native-type":"submit",class:"btn-item h50",disabled:!d(v)},{default:n(()=>[_(" 修改密码 ")]),_:1},8,["disabled"])])]),_:1})]),foot:n(()=>[c("div",null,[c("div",q,[e(i,{plain:"",class:"txt-btn no-border yellow-btn",onClick:o[2]||(o[2]=r=>d(b).push("/login"))},{default:n(()=>[_("前往登录")]),_:1})])])]),_:1})}}};export{A as default};
