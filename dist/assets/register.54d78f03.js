var e=(e,a,l)=>new Promise(((o,s)=>{var r=e=>{try{t(l.next(e))}catch(a){s(a)}},n=e=>{try{t(l.throw(e))}catch(a){s(a)}},t=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,n);t((l=l.apply(e,a)).next())}));import{L as a,t as l}from"./index.d9cf8568.js";import{v as o}from"./index.7149c2e7.js";import{Y as s}from"./index.9d3058b5.js";import{e as r,v as n,B as t,f as d,k as u,r as c,o as i,g as p,w as m,m as h,a as f,l as v,I as b}from"./vendor.5ac22c2b.js";const g=b("获取验证码"),w={class:"form-btn"},y=b(" 注册 "),_={class:"handle"},x=b(" 同意"),V=v("a",{href:"javascript:;"},"《用户隐私协议》",-1),j={setup(b){r(),n();const j="onBlur",k=t({phone:"",password:"",code:""}),U={phone:[{validator:(e,a)=>e?!!o(e)||"手机号格式不正确！":"请填写手机号码！",trigger:j}],password:[{required:!0,message:"密码不能为空",trigger:j}],code:[{pattern:/\d{6}/,message:"验证码格式不正确",trigger:j}]},B=d((()=>{const{phone:e,password:a,code:l}=k;return!!(e&&a&&l)})),P=u(!1);function q(){return e(this,null,(function*(){try{l.success("短信发送成功")}catch(e){l.fail("获取短信失败，请稍后再试...")}}))}const z=a=>e(this,null,(function*(){try{l.success("注册成功")}catch(e){l.fail("注册失败，请稍后再试...")}}));return(e,l)=>{const o=c("van-field"),r=c("van-col"),n=c("van-button"),t=c("van-row"),d=c("van-cell-group"),u=c("van-form"),b=c("van-radio"),j=c("van-radio-group");return i(),p(h(a),null,{body:m((()=>[f(u,{"label-width":"0",onSubmit:z},{default:m((()=>[f(d,{inset:""},{default:m((()=>[f(o,{modelValue:h(k).phone,"onUpdate:modelValue":l[0]||(l[0]=e=>h(k).phone=e),rules:U.phone,name:"phone",label:"",placeholder:"手机号",maxlength:"11",clearable:""},null,8,["modelValue","rules"]),f(h(s),{password:h(k).password,rules:U.password,placeholder:"登录密码",label:"",maxlength:16,clearable:!0},null,8,["password","rules"]),f(t,{gutter:"20"},{default:m((()=>[f(r,{span:"16"},{default:m((()=>[f(o,{modelValue:h(k).code,"onUpdate:modelValue":l[1]||(l[1]=e=>h(k).code=e),rules:U.code,name:"code",label:"",placeholder:"验证码",maxlength:"6",clearable:""},null,8,["modelValue","rules"])])),_:1}),f(r,{span:"8"},{default:m((()=>[f(n,{disabled:!h(k).phone,plain:"",hairline:"",round:"",size:"small",onClick:q,class:"code-btn"},{default:m((()=>[g])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1}),v("div",w,[f(n,{round:"",block:"",type:"primary","native-type":"submit",class:"btn-item h50",disabled:!h(B)},{default:m((()=>[y])),_:1},8,["disabled"])])])),_:1})])),foot:m((()=>[v("div",null,[v("div",_,[f(j,{modelValue:P.value,"onUpdate:modelValue":l[2]||(l[2]=e=>P.value=e)},{default:m((()=>[f(b,{name:"1","checked-color":"var( --yu-yellow-color )"},{default:m((()=>[x,V])),_:1})])),_:1},8,["modelValue"])])])])),_:1})}}};export{j as default};
